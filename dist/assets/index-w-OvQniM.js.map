{"version":3,"file":"index-w-OvQniM.js","sources":["../../src/js/modules/data.js","../../src/js/modules/dateUtils.js","../../src/js/modules/domUtils.js","../../src/js/modules/themeManager.js","../../src/js/modules/scheduleRenderer.js","../../src/js/modules/washingScheduleManager.js","../../src/js/app.js"],"sourcesContent":["/**\r\n * @fileoverview Dados da escala de limpeza e configuraÃ§Ãµes da RepÃºblica Tabajara\r\n * \r\n * â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\r\n * â•‘                    COMO ATUALIZAR AS ESCALAS                               â•‘\r\n * â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£\r\n * â•‘                                                                            â•‘\r\n * â•‘  1. ADICIONAR MORADOR:                                                     â•‘\r\n * â•‘     - Adicione o nome na lista correspondente (seg/ter ou qui/sex)         â•‘\r\n * â•‘     - Ex: members: ['Fulano', 'Ciclano', 'NOVO_MORADOR']                   â•‘\r\n * â•‘                                                                            â•‘\r\n * â•‘  2. REMOVER MORADOR:                                                       â•‘\r\n * â•‘     - Simplesmente remova o nome da lista                                  â•‘\r\n * â•‘     - O sistema recalcula tudo automaticamente!                            â•‘\r\n * â•‘                                                                            â•‘\r\n * â•‘  3. TROCAR ORDEM:                                                          â•‘\r\n * â•‘     - Reordene os nomes na lista como preferir                             â•‘\r\n * â•‘                                                                            â•‘\r\n * â•‘  4. MÃQUINA DE LAVAR:                                                      â•‘\r\n * â•‘     - Edite o array washingSchedule abaixo                                 â•‘\r\n * â•‘                                                                            â•‘\r\n * â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\r\n */\r\n\r\n// ============================================================================\r\n// ğŸ  MORADORES - EDITE AQUI!\r\n// ============================================================================\r\n\r\n/**\r\n * Grupo de Segunda e TerÃ§a\r\n * ğŸ“ Adicione ou remova nomes conforme necessÃ¡rio\r\n */\r\nconst mondayTuesdayMembers = [ \r\n  'Gaga',\r\n  'A. Viihtube',\r\n  'Smigou',\r\n  'Rita',\r\n];\r\n\r\n/**\r\n * Grupo de Quinta e Sexta\r\n * ğŸ“ Adicione ou remova nomes conforme necessÃ¡rio\r\n */\r\nconst thursdayFridayMembers = [\r\n    'Navala',\r\n  'LATAM',\r\n  'BBB',\r\n  'Leidi',\r\n  'Espalha Lixo',\r\n];\r\n\r\n// ============================================================================\r\n// ğŸ§¹ CÃ”MODOS - EDITE AQUI SE PRECISAR MUDAR OS AMBIENTES\r\n// ============================================================================\r\n\r\n/**\r\n * DefiniÃ§Ã£o dos cÃ´modos com seus labels e chaves correspondentes\r\n * ğŸ“ Adicione ou remova cÃ´modos conforme a estrutura da repÃºblica\r\n */\r\nexport const rooms = [\r\n  { label: 'Cozinha', key: 'cozinha', icon: 'restaurant' },\r\n  { label: 'Banheiro de baixo', key: 'banhBaixo', icon: 'shower' },\r\n  { label: 'Banheiro suÃ­te', key: 'banhSuite', icon: 'bathtub' },\r\n  { label: 'Sala e corredor', key: 'sala', icon: 'weekend' },\r\n  { label: 'Lavabo', key: 'lavabo', icon: 'wash' },\r\n];\r\n\r\n// ============================================================================\r\n// ğŸ§º MÃQUINA DE LAVAR - EDITE AQUI!\r\n// ============================================================================\r\n\r\n/**\r\n * Escala da mÃ¡quina de lavar por dia da semana\r\n * ğŸ“ Edite os usuÃ¡rios de cada dia conforme necessÃ¡rio\r\n */\r\nexport const washingSchedule = [\r\n  { day: 'Domingo', users: 'Espalha Lixo e Rita', dayIndex: 0 },\r\n  { day: 'Segunda-feira', users: 'Gaga e A. Rodrigo', dayIndex: 1 },\r\n  { day: 'TerÃ§a-feira', users: 'A. Viihtube', dayIndex: 2 },\r\n  { day: 'Quarta-feira', users: 'Navala e LATAM', dayIndex: 3 },\r\n  { day: 'Quinta-feira', users: 'BBB e Smigou', dayIndex: 4 },\r\n  { day: 'Sexta-feira', users: 'Leidi', dayIndex: 5 },\r\n  { day: 'SÃ¡bado', users: 'PANOS', dayIndex: 6 },\r\n];\r\n\r\n// ============================================================================\r\n// âš™ï¸ CONFIGURAÃ‡Ã•ES DO SISTEMA - NÃƒO PRECISA MEXER\r\n// ============================================================================\r\n\r\n/**\r\n * ConfiguraÃ§Ãµes da aplicaÃ§Ã£o\r\n */\r\nexport const appConfig = {\r\n  /** Data de referÃªncia para o inÃ­cio do ciclo (Segunda, 24 de fevereiro de 2020) */\r\n  referenceDate: new Date(2020, 1, 24),\r\n  /** Chave para salvar preferÃªncia de tema no localStorage */\r\n  themeStorageKey: 'escalas-tabajara-theme',\r\n  /** Classe CSS para modo escuro */\r\n  darkModeClass: 'dark-mode',\r\n};\r\n\r\n/**\r\n * ConfiguraÃ§Ã£o de temas\r\n */\r\nexport const themeConfig = {\r\n  lightIcon: 'light_mode',\r\n  darkIcon: 'dark_mode',\r\n  lightLabel: 'Alternar para modo escuro',\r\n  darkLabel: 'Alternar para modo claro',\r\n};\r\n\r\n// ============================================================================\r\n// ğŸ”„ GERADOR AUTOMÃTICO DE ESCALAS - NÃƒO PRECISA MEXER\r\n// ============================================================================\r\n\r\n/**\r\n * Gera automaticamente todas as rotaÃ§Ãµes da escala de limpeza\r\n * baseado na lista de moradores.\r\n * \r\n * Regras:\r\n * - Cada pessoa limpa um cÃ´modo diferente por semana\r\n * - Se hÃ¡ menos pessoas que cÃ´modos, quem limpa a sala tambÃ©m limpa o lavabo\r\n * - A rotaÃ§Ã£o Ã© circular (apÃ³s a Ãºltima posiÃ§Ã£o, volta para a primeira)\r\n * \r\n * @param {string[]} members - Lista de moradores do grupo\r\n * @returns {Object[]} Array de rotaÃ§Ãµes com as atribuiÃ§Ãµes de cada cÃ´modo\r\n */\r\nfunction generateScheduleRotations(members) {\r\n  const numMembers = members.length;\r\n  const numRooms = rooms.length;\r\n  const rotations = [];\r\n\r\n  // Gera uma rotaÃ§Ã£o para cada membro (ciclo completo)\r\n  for (let rotation = 0; rotation < numMembers; rotation++) {\r\n    const schedule = {};\r\n\r\n    rooms.forEach((room, roomIndex) => {\r\n      // Calcula qual membro fica responsÃ¡vel por este cÃ´modo nesta rotaÃ§Ã£o\r\n      const memberIndex = (roomIndex + rotation) % numMembers;\r\n      schedule[room.key] = members[memberIndex];\r\n    });\r\n\r\n    // Se hÃ¡ menos pessoas que cÃ´modos, quem limpa a sala tambÃ©m limpa o lavabo\r\n    if (numMembers < numRooms) {\r\n      schedule.lavabo = schedule.sala;\r\n    }\r\n\r\n    rotations.push(schedule);\r\n  }\r\n\r\n  return rotations;\r\n}\r\n\r\n/**\r\n * Dados da escala de limpeza - GERADO AUTOMATICAMENTE\r\n * NÃ£o precisa editar manualmente! Apenas modifique as listas de moradores acima.\r\n */\r\nexport const scheduleData = {\r\n  monday_tuesday: generateScheduleRotations(mondayTuesdayMembers),\r\n  thursday_friday: generateScheduleRotations(thursdayFridayMembers),\r\n};\r\n\r\n// ============================================================================\r\n// ğŸ“Š INFORMAÃ‡Ã•ES ÃšTEIS (para debug/verificaÃ§Ã£o)\r\n// ============================================================================\r\n\r\n/**\r\n * Exibe informaÃ§Ãµes sobre a configuraÃ§Ã£o atual no console (apenas em desenvolvimento)\r\n */\r\nif (typeof window !== 'undefined' && window.location?.hostname === 'localhost') {\r\n  console.info('ğŸ“‹ Escalas Tabajara - ConfiguraÃ§Ã£o atual:');\r\n  console.info(`   Segunda/TerÃ§a: ${mondayTuesdayMembers.length} pessoas â†’ ${scheduleData.monday_tuesday.length} rotaÃ§Ãµes`);\r\n  console.info(`   Quinta/Sexta: ${thursdayFridayMembers.length} pessoas â†’ ${scheduleData.thursday_friday.length} rotaÃ§Ãµes`);\r\n  console.info('   Moradores Seg/Ter:', mondayTuesdayMembers.join(', '));\r\n  console.info('   Moradores Qui/Sex:', thursdayFridayMembers.join(', '));\r\n}\r\n","/**\r\n * @fileoverview UtilitÃ¡rios para manipulaÃ§Ã£o de datas e cÃ¡lculos de escala\r\n */\r\n\r\n/**\r\n * Formata uma data no formato DD/MM para exibiÃ§Ã£o\r\n * @param {Date} date - Data a ser formatada\r\n * @returns {string} Data formatada no padrÃ£o brasileiro\r\n * @throws {Error} Se a data for invÃ¡lida\r\n */\r\nexport const formatDate = (date) => {\r\n  if (!(date instanceof Date) || isNaN(date.getTime())) {\r\n    throw new Error('Data invÃ¡lida fornecida para formataÃ§Ã£o');\r\n  }\r\n\r\n  return date.toLocaleDateString('pt-BR', {\r\n    day: '2-digit',\r\n    month: '2-digit'\r\n  });\r\n};\r\n\r\n/**\r\n * Calcula a diferenÃ§a de semanas completas entre duas datas\r\n * @param {Date} date1 - Data mais recente\r\n * @param {Date} date2 - Data de referÃªncia\r\n * @returns {number} NÃºmero de semanas de diferenÃ§a\r\n * @throws {Error} Se alguma das datas for invÃ¡lida\r\n */\r\nexport const getWeekDifference = (date1, date2) => {\r\n  if (!(date1 instanceof Date) || isNaN(date1.getTime()) ||\r\n    !(date2 instanceof Date) || isNaN(date2.getTime())) {\r\n    throw new Error('Datas invÃ¡lidas fornecidas para cÃ¡lculo de diferenÃ§a');\r\n  }\r\n\r\n  const msPerWeek = 1000 * 60 * 60 * 24 * 7;\r\n\r\n  // Alinha ambas as datas para a Segunda e TerÃ§a da semana\r\n  const getmonday_tuesday = (date) => {\r\n    const d = new Date(date);\r\n    const day = d.getDay();\r\n    const diff = (day === 0 ? -6 : 1 - day);\r\n    d.setDate(d.getDate() + diff);\r\n    d.setHours(0, 0, 0, 0);\r\n    return d;\r\n  };\r\n\r\n  const monday_tuesday1 = getmonday_tuesday(date1);\r\n  const monday_tuesday2 = getmonday_tuesday(date2);\r\n\r\n  return Math.floor((monday_tuesday1 - monday_tuesday2) / msPerWeek);\r\n};\r\n\r\n/**\r\n * Encontra a data da Segunda e TerÃ§a da semana de uma data especÃ­fica\r\n * @param {Date} date - Data de referÃªncia\r\n * @returns {Date} Data da Segunda e TerÃ§a da mesma semana\r\n * @throws {Error} Se a data for invÃ¡lida\r\n */\r\nexport const getmonday_tuesdayDate = (date) => {\r\n  if (!(date instanceof Date) || isNaN(date.getTime())) {\r\n    throw new Error('Data invÃ¡lida fornecida para encontrar Segunda e TerÃ§a');\r\n  }\r\n\r\n  const currentDay = date.getDay();\r\n  const diffTomonday_tuesday = (currentDay === 0 ? -6 : 1 - currentDay);\r\n  const monday_tuesdayDate = new Date(date);\r\n\r\n  monday_tuesdayDate.setDate(date.getDate() + diffTomonday_tuesday);\r\n  monday_tuesdayDate.setHours(0, 0, 0, 0);\r\n\r\n  return monday_tuesdayDate;\r\n};\r\n\r\n/**\r\n * Calcula as datas e Ã­ndices dos ciclos para uma semana especÃ­fica\r\n * @param {Date} currentDate - Data atual para cÃ¡lculo\r\n * @param {Date} referenceDate - Data de referÃªncia do sistema\r\n * @param {Object} scheduleData - Dados da escala\r\n * @returns {Object} Objeto com datas e Ã­ndices calculados\r\n */\r\nexport const calculateWeekCycles = (currentDate, referenceDate, scheduleData) => {\r\n  if (!(currentDate instanceof Date) || isNaN(currentDate.getTime()) ||\r\n    !(referenceDate instanceof Date) || isNaN(referenceDate.getTime())) {\r\n    throw new Error('Datas invÃ¡lidas fornecidas para cÃ¡lculo de ciclos');\r\n  }\r\n\r\n  let referenceDate2 = new Date(currentDate);\r\n\r\n  // Se for domingo, usar a prÃ³xima Segunda e TerÃ§a\r\n  if (currentDate.getDay() === 0) {\r\n    referenceDate2.setDate(currentDate.getDate() + 1);\r\n  }\r\n\r\n  const monday_tuesdayDate = getmonday_tuesdayDate(referenceDate2);\r\n  const weekDiff = Math.max(0, getWeekDifference(monday_tuesdayDate, referenceDate));\r\n\r\n  // Calcula os Ã­ndices dos ciclos para cada dia\r\n  const monday_tuesdayCycleIndex = weekDiff % (scheduleData.monday_tuesday?.length || 1);\r\n  const thursday_fridayCycleIndex = weekDiff % (scheduleData.thursday_friday?.length || 1);\r\n\r\n  // Calcula a data da quinta e sexta\r\n  const thursday_fridayDate = new Date(monday_tuesdayDate);\r\n  thursday_fridayDate.setDate(monday_tuesdayDate.getDate() + 4);\r\n\r\n  return {\r\n    monday_tuesdayDate,\r\n    thursday_fridayDate,\r\n    monday_tuesdayCycleIndex,\r\n    thursday_fridayCycleIndex\r\n  };\r\n};\r\n\r\n/**\r\n * Verifica se uma data Ã© hoje\r\n * @param {Date} date - Data a ser verificada\r\n * @returns {boolean} True se a data for hoje\r\n */\r\nexport const isToday = (date) => {\r\n  if (!(date instanceof Date) || isNaN(date.getTime())) {\r\n    return false;\r\n  }\r\n\r\n  const today = new Date();\r\n  return date.getDate() === today.getDate() &&\r\n    date.getMonth() === today.getMonth() &&\r\n    date.getFullYear() === today.getFullYear();\r\n};\r\n\r\n/**\r\n * ObtÃ©m o nome do dia da semana em portuguÃªs\r\n * @param {number} dayIndex - Ãndice do dia (0 = domingo)\r\n * @returns {string} Nome do dia da semana\r\n */\r\nexport const getDayName = (dayIndex) => {\r\n  const days = [\r\n    'Domingo', 'Segunda e TerÃ§a', 'TerÃ§a-feira', 'Quarta-feira',\r\n    'Quinta-feira', 'Quinta e Sexta', 'SÃ¡bado'\r\n  ];\r\n\r\n  return days[dayIndex] || 'Dia invÃ¡lido';\r\n};\r\n\r\n/**\r\n * Valida se uma data estÃ¡ dentro de um intervalo razoÃ¡vel\r\n * @param {Date} date - Data a ser validada\r\n * @param {number} yearsRange - Range de anos permitido (padrÃ£o: 10)\r\n * @returns {boolean} True se a data for vÃ¡lida\r\n */\r\nexport const isValidDateRange = (date, yearsRange = 10) => {\r\n  if (!(date instanceof Date) || isNaN(date.getTime())) {\r\n    return false;\r\n  }\r\n\r\n  const currentYear = new Date().getFullYear();\r\n  const dateYear = date.getFullYear();\r\n\r\n  return Math.abs(dateYear - currentYear) <= yearsRange;\r\n};\r\n","/**\r\n * @fileoverview Gerenciamento de DOM e cache de elementos\r\n */\r\n\r\n/**\r\n * Cache de seletores DOM para otimizar performance\r\n * Evita consultas repetitivas ao DOM\r\n */\r\nexport class DOMCache {\r\n  constructor() {\r\n    this.cache = new Map();\r\n    this.initializeCache();\r\n  }\r\n\r\n  /**\r\n   * Inicializa o cache com os elementos principais\r\n   * @private\r\n   */\r\n  initializeCache() {\r\n    const selectors = {\r\n      scheduleContainer: '#cleaningSchedule',\r\n      washingTableBody: '#washingTableBody',\r\n      themeToggle: '#themeToggle',\r\n      themeIcon: '#themeIcon',\r\n      footerYear: '#currentYear'\r\n    };\r\n\r\n    for (const [key, selector] of Object.entries(selectors)) {\r\n      this.cache.set(key, document.querySelector(selector));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ObtÃ©m um elemento do cache\r\n   * @param {string} key - Chave do elemento\r\n   * @returns {HTMLElement|null} Elemento do DOM ou null se nÃ£o encontrado\r\n   */\r\n  get(key) {\r\n    return this.cache.get(key);\r\n  }\r\n\r\n  /**\r\n   * Adiciona um elemento ao cache\r\n   * @param {string} key - Chave para identificar o elemento\r\n   * @param {HTMLElement} element - Elemento do DOM\r\n   */\r\n  set(key, element) {\r\n    this.cache.set(key, element);\r\n  }\r\n\r\n  /**\r\n   * Verifica se todos os elementos essenciais estÃ£o disponÃ­veis\r\n   * @returns {boolean} True se todos os elementos essenciais existem\r\n   */\r\n  validateEssentialElements() {\r\n    const essential = ['scheduleContainer', 'themeToggle', 'themeIcon'];\r\n    return essential.every(key => this.get(key) !== null);\r\n  }\r\n\r\n  /**\r\n   * Limpa o cache e reinicializa\r\n   */\r\n  refresh() {\r\n    this.cache.clear();\r\n    this.initializeCache();\r\n  }\r\n}\r\n\r\n/**\r\n * UtilitÃ¡rios para manipulaÃ§Ã£o do DOM\r\n */\r\nexport class DOMUtils {\r\n  /**\r\n   * Cria um elemento com classes e atributos\r\n   * @param {string} tag - Tag do elemento\r\n   * @param {Object} options - OpÃ§Ãµes do elemento\r\n   * @param {string[]} options.classes - Classes CSS\r\n   * @param {Object} options.attributes - Atributos do elemento\r\n   * @param {string} options.textContent - ConteÃºdo de texto\r\n   * @param {string} options.innerHTML - ConteÃºdo HTML\r\n   * @returns {HTMLElement} Elemento criado\r\n   */\r\n  static createElement(tag, options = {}) {\r\n    const element = document.createElement(tag);\r\n\r\n    if (options.classes) {\r\n      element.classList.add(...options.classes);\r\n    }\r\n\r\n    if (options.attributes) {\r\n      for (const [key, value] of Object.entries(options.attributes)) {\r\n        element.setAttribute(key, value);\r\n      }\r\n    }\r\n\r\n    if (options.textContent) {\r\n      element.textContent = options.textContent;\r\n    }\r\n\r\n    if (options.innerHTML) {\r\n      element.innerHTML = options.innerHTML;\r\n    }\r\n\r\n    return element;\r\n  }\r\n\r\n  /**\r\n   * Remove todos os filhos de um elemento\r\n   * @param {HTMLElement} element - Elemento pai\r\n   */\r\n  static clearElement(element) {\r\n    if (element) {\r\n      while (element.firstChild) {\r\n        element.removeChild(element.firstChild);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Adiciona classe com verificaÃ§Ã£o de existÃªncia do elemento\r\n   * @param {HTMLElement|null} element - Elemento do DOM\r\n   * @param {string} className - Nome da classe\r\n   */\r\n  static safeAddClass(element, className) {\r\n    if (element && typeof element.classList !== 'undefined') {\r\n      element.classList.add(className);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Remove classe com verificaÃ§Ã£o de existÃªncia do elemento\r\n   * @param {HTMLElement|null} element - Elemento do DOM\r\n   * @param {string} className - Nome da classe\r\n   */\r\n  static safeRemoveClass(element, className) {\r\n    if (element && typeof element.classList !== 'undefined') {\r\n      element.classList.remove(className);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Verifica se um elemento tem uma classe especÃ­fica\r\n   * @param {HTMLElement|null} element - Elemento do DOM\r\n   * @param {string} className - Nome da classe\r\n   * @returns {boolean} True se o elemento tem a classe\r\n   */\r\n  static hasClass(element, className) {\r\n    return element && element.classList && element.classList.contains(className);\r\n  }\r\n\r\n  /**\r\n   * Define atributo com verificaÃ§Ã£o de existÃªncia do elemento\r\n   * @param {HTMLElement|null} element - Elemento do DOM\r\n   * @param {string} attribute - Nome do atributo\r\n   * @param {string} value - Valor do atributo\r\n   */\r\n  static safeSetAttribute(element, attribute, value) {\r\n    if (element && typeof element.setAttribute === 'function') {\r\n      element.setAttribute(attribute, value);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Define texto com verificaÃ§Ã£o de existÃªncia do elemento\r\n   * @param {HTMLElement|null} element - Elemento do DOM\r\n   * @param {string} text - Texto a ser definido\r\n   */\r\n  static safeSetText(element, text) {\r\n    if (element) {\r\n      element.textContent = text;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Adiciona event listener com verificaÃ§Ã£o de existÃªncia do elemento\r\n   * @param {HTMLElement|null} element - Elemento do DOM\r\n   * @param {string} event - Nome do evento\r\n   * @param {Function} handler - FunÃ§Ã£o manipuladora do evento\r\n   * @param {Object} options - OpÃ§Ãµes do event listener\r\n   */\r\n  static safeAddEventListener(element, event, handler, options = {}) {\r\n    if (element && typeof element.addEventListener === 'function') {\r\n      element.addEventListener(event, handler, options);\r\n    }\r\n  }\r\n}\r\n","/**\r\n * @fileoverview Gerenciamento de temas claro/escuro com persistÃªncia\r\n */\r\n\r\nimport { themeConfig, appConfig } from './data.js';\r\nimport { DOMUtils } from './domUtils.js';\r\n\r\n/**\r\n * Gerenciador de temas da aplicaÃ§Ã£o\r\n */\r\nexport class ThemeManager {\r\n  constructor(domCache) {\r\n    this.domCache = domCache;\r\n    this.isDarkMode = false;\r\n    this.mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\r\n\r\n    this.init();\r\n  }\r\n\r\n  /**\r\n   * Inicializa o gerenciador de temas\r\n   */\r\n  init() {\r\n    this.loadSavedTheme();\r\n    this.setupEventListeners();\r\n    this.setupMediaQueryListener();\r\n    this.applyTheme(this.isDarkMode);\r\n  }\r\n\r\n  /**\r\n   * Carrega o tema salvo do localStorage ou usa a preferÃªncia do sistema\r\n   * @private\r\n   */\r\n  loadSavedTheme() {\r\n    try {\r\n      const savedTheme = localStorage.getItem(appConfig.themeStorageKey);\r\n\r\n      if (savedTheme !== null) {\r\n        this.isDarkMode = savedTheme === 'dark';\r\n      } else {\r\n        // Usa a preferÃªncia do sistema se nÃ£o hÃ¡ tema salvo\r\n        this.isDarkMode = this.mediaQuery.matches;\r\n      }\r\n    } catch (error) {\r\n      console.warn('Erro ao carregar tema do localStorage:', error);\r\n      this.isDarkMode = this.mediaQuery.matches;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Configura os event listeners\r\n   * @private\r\n   */\r\n  setupEventListeners() {\r\n    const themeToggle = this.domCache.get('themeToggle');\r\n\r\n    DOMUtils.safeAddEventListener(themeToggle, 'click', () => {\r\n      this.toggleTheme();\r\n    });\r\n\r\n    // Adiciona suporte para tecla Enter no botÃ£o de tema\r\n    DOMUtils.safeAddEventListener(themeToggle, 'keydown', (event) => {\r\n      if (event.key === 'Enter' || event.key === ' ') {\r\n        event.preventDefault();\r\n        this.toggleTheme();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Configura listener para mudanÃ§as na preferÃªncia do sistema\r\n   * @private\r\n   */\r\n  setupMediaQueryListener() {\r\n    this.mediaQuery.addEventListener('change', (e) => {\r\n      // SÃ³ aplica a preferÃªncia do sistema se nÃ£o hÃ¡ tema salvo manualmente\r\n      const savedTheme = localStorage.getItem(appConfig.themeStorageKey);\r\n      if (savedTheme === null) {\r\n        this.isDarkMode = e.matches;\r\n        this.applyTheme(this.isDarkMode);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Alterna entre tema claro e escuro\r\n   */\r\n  toggleTheme() {\r\n    this.isDarkMode = !this.isDarkMode;\r\n    this.applyTheme(this.isDarkMode);\r\n    this.saveTheme();\r\n  }\r\n\r\n  /**\r\n   * Aplica o tema especificado\r\n   * @param {boolean} isDark - Se deve aplicar o tema escuro\r\n   */\r\n  applyTheme(isDark) {\r\n    const body = document.body;\r\n    const themeIcon = this.domCache.get('themeIcon');\r\n    const themeToggle = this.domCache.get('themeToggle');\r\n\r\n    if (isDark) {\r\n      DOMUtils.safeAddClass(body, appConfig.darkModeClass);\r\n      DOMUtils.safeSetText(themeIcon, themeConfig.darkIcon);\r\n      DOMUtils.safeSetAttribute(themeToggle, 'aria-label', themeConfig.darkLabel);\r\n    } else {\r\n      DOMUtils.safeRemoveClass(body, appConfig.darkModeClass);\r\n      DOMUtils.safeSetText(themeIcon, themeConfig.lightIcon);\r\n      DOMUtils.safeSetAttribute(themeToggle, 'aria-label', themeConfig.lightLabel);\r\n    }\r\n\r\n    // Dispara evento customizado para outros mÃ³dulos que possam precisar reagir\r\n    this.dispatchThemeChangeEvent(isDark);\r\n  }\r\n\r\n  /**\r\n   * Salva a preferÃªncia de tema no localStorage\r\n   * @private\r\n   */\r\n  saveTheme() {\r\n    try {\r\n      localStorage.setItem(\r\n        appConfig.themeStorageKey,\r\n        this.isDarkMode ? 'dark' : 'light'\r\n      );\r\n    } catch (error) {\r\n      console.warn('Erro ao salvar tema no localStorage:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Dispara evento customizado de mudanÃ§a de tema\r\n   * @param {boolean} isDark - Se o tema atual Ã© escuro\r\n   * @private\r\n   */\r\n  dispatchThemeChangeEvent(isDark) {\r\n    const event = new CustomEvent('themeChanged', {\r\n      detail: { isDarkMode: isDark }\r\n    });\r\n    document.dispatchEvent(event);\r\n  }\r\n\r\n  /**\r\n   * ObtÃ©m o tema atual\r\n   * @returns {string} 'dark' ou 'light'\r\n   */\r\n  getCurrentTheme() {\r\n    return this.isDarkMode ? 'dark' : 'light';\r\n  }\r\n\r\n  /**\r\n   * Define o tema programaticamente\r\n   * @param {string} theme - 'dark' ou 'light'\r\n   */\r\n  setTheme(theme) {\r\n    if (theme !== 'dark' && theme !== 'light') {\r\n      console.warn('Tema invÃ¡lido. Use \"dark\" ou \"light\".');\r\n      return;\r\n    }\r\n\r\n    this.isDarkMode = theme === 'dark';\r\n    this.applyTheme(this.isDarkMode);\r\n    this.saveTheme();\r\n  }\r\n\r\n  /**\r\n   * Reseta o tema para o padrÃ£o do sistema\r\n   */\r\n  resetTheme() {\r\n    try {\r\n      localStorage.removeItem(appConfig.themeStorageKey);\r\n      this.isDarkMode = this.mediaQuery.matches;\r\n      this.applyTheme(this.isDarkMode);\r\n    } catch (error) {\r\n      console.warn('Erro ao resetar tema:', error);\r\n    }\r\n  }\r\n  /**\r\n   * Limpa recursos e para listeners\r\n   */\r\n  destroy() {\r\n    // MÃ©todo para limpeza de recursos se necessÃ¡rio\r\n    console.log('ThemeManager destruÃ­do');\r\n  }\r\n}\r\n","/**\r\n * @fileoverview RenderizaÃ§Ã£o da escala de limpeza\r\n */\r\n\r\nimport { rooms } from './data.js';\r\nimport { formatDate, isToday } from './dateUtils.js';\r\n\r\n/**\r\n * Renderizador da escala de limpeza\r\n */\r\nexport class ScheduleRenderer {\r\n  /**\r\n   * @param {Object} domCache - Cache de elementos DOM\r\n   */\r\n  constructor(domCache) {\r\n    this.domCache = domCache;\r\n  }\r\n\r\n  /**\r\n   * Renderiza toda a escala de limpeza\r\n   * @param {Object} cycleData - Dados calculados dos ciclos\r\n   * @param {Object} scheduleData - Dados da escala\r\n   */\r\n  renderSchedule(cycleData, scheduleData) {\r\n    const container = this.domCache.get('scheduleContainer');\r\n\r\n    if (!container) {\r\n      console.error('Container da escala nÃ£o encontrado');\r\n      return;\r\n    }\r\n\r\n    // Limpa o container\r\n    this.clearElement(container);\r\n\r\n    try {\r\n      // Cria as colunas para cada dia\r\n      const monday_tuesdayColumn = this.createScheduleColumn(\r\n        'monday_tuesday',\r\n        'Segunda e TerÃ§a',\r\n        scheduleData.monday_tuesday?.[cycleData.monday_tuesdayCycleIndex],\r\n        cycleData.monday_tuesdayDate\r\n      );\r\n\r\n      const thursday_fridayColumn = this.createScheduleColumn(\r\n        'thursday_friday',\r\n        'Quinta e Sexta',\r\n        scheduleData.thursday_friday?.[cycleData.thursday_fridayCycleIndex],\r\n        cycleData.thursday_fridayDate\r\n      );\r\n\r\n      // Adiciona as colunas ao container\r\n      container.appendChild(monday_tuesdayColumn);\r\n      container.appendChild(thursday_fridayColumn);\r\n\r\n      // Destaca o dia atual\r\n      this.highlightCurrentDay(cycleData);\r\n\r\n    } catch (error) {\r\n      console.error('Erro ao renderizar escala:', error);\r\n      this.renderErrorMessage(container);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Cria uma coluna da escala\r\n   * @param {string} id - ID da coluna\r\n   * @param {string} dayName - Nome do dia\r\n   * @param {import('../types/index.js').DailyScheduleItem} schedule - Escala do dia\r\n   * @param {Date} cleaningDate - Data da limpeza\r\n   * @returns {HTMLElement} Elemento da coluna\r\n   */\r\n  createScheduleColumn(id, dayName, schedule, cleaningDate) {\r\n    if (!schedule) {\r\n      console.warn(`Escala nÃ£o encontrada para ${dayName}`);\r\n      return this.createEmptyColumn(id, dayName, cleaningDate);\r\n    }\r\n\r\n    const column = this.createElement('div', {\r\n      id,\r\n      className: 'column',\r\n      attributes: {\r\n        'role': 'region',\r\n        'aria-labelledby': `${id}-header`\r\n      }\r\n    });\r\n\r\n    // CabeÃ§alho da coluna\r\n    const header = this.createColumnHeader(id, dayName, cleaningDate);\r\n    column.appendChild(header);\r\n\r\n    // Lista de cÃ´modos\r\n    const roomsList = this.createElement('div', {\r\n      className: 'rooms-list',\r\n      attributes: {\r\n        'role': 'list',\r\n        'aria-label': `ResponsÃ¡veis pela limpeza de ${dayName}`\r\n      }\r\n    });\r\n\r\n    rooms.forEach(room => {\r\n      const roomElement = this.createRoomElement(room, schedule);\r\n      roomsList.appendChild(roomElement);\r\n    });\r\n\r\n    column.appendChild(roomsList);\r\n    return column;\r\n  }\r\n\r\n  /**\r\n   * Cria o cabeÃ§alho de uma coluna\r\n   * @param {string} id - ID da coluna\r\n   * @param {string} dayName - Nome do dia\r\n   * @param {Date} date - Data\r\n   * @returns {HTMLElement} Elemento do cabeÃ§alho\r\n   */\r\n  createColumnHeader(id, dayName, date) {\r\n    const header = this.createElement('header', {\r\n      className: 'column-header'\r\n    });\r\n\r\n    const title = this.createElement('h3', {\r\n      textContent: dayName,\r\n      id: `${id}-header`,\r\n      className: 'day-title'\r\n    });\r\n\r\n    const dateSpan = this.createElement('span', {\r\n      textContent: formatDate(date),\r\n      className: 'date-display',\r\n      attributes: {\r\n        'aria-label': `Data: ${formatDate(date)}`\r\n      }\r\n    });\r\n\r\n    header.appendChild(title);\r\n    header.appendChild(dateSpan);\r\n    return header;\r\n  }\r\n\r\n  /**\r\n   * Cria um elemento de cÃ´modo\r\n   * @param {import('../types/index.js').Room} room - Dados do cÃ´modo\r\n   * @param {import('../types/index.js').DailyScheduleItem} schedule - Escala do dia\r\n   * @returns {HTMLElement} Elemento do cÃ´modo\r\n   */\r\n  createRoomElement(room, schedule) {\r\n    const responsible = schedule[room.key] || 'NÃ£o definido';\r\n\r\n    const roomElement = this.createElement('div', {\r\n      className: 'room',\r\n      attributes: {\r\n        'role': 'listitem',\r\n        'aria-label': `${room.label}: ${responsible}`\r\n      }\r\n    });\r\n\r\n    // Container para Ã­cone e nome do cÃ´modo\r\n    const roomInfo = this.createElement('div', {\r\n      className: 'room-info'\r\n    });\r\n\r\n    // Ãcone Material Symbol\r\n    const icon = this.createElement('span', {\r\n      className: 'material-symbols-rounded room-icon',\r\n      textContent: room.icon || 'home',\r\n      attributes: {\r\n        'aria-hidden': 'true'\r\n      }\r\n    });\r\n\r\n    const roomName = this.createElement('span', {\r\n      className: 'room-name',\r\n      textContent: room.label,\r\n      attributes: {\r\n        'aria-hidden': 'true'\r\n      }\r\n    });\r\n\r\n    roomInfo.appendChild(icon);\r\n    roomInfo.appendChild(roomName);\r\n\r\n    const responsibleSpan = this.createElement('span', {\r\n      className: 'responsible',\r\n      textContent: responsible,\r\n      attributes: {\r\n        'title': `ResponsÃ¡vel: ${responsible}`\r\n      }\r\n    });\r\n\r\n    roomElement.appendChild(roomInfo);\r\n    roomElement.appendChild(responsibleSpan);\r\n    return roomElement;\r\n  }\r\n\r\n  /**\r\n   * Cria uma coluna vazia para casos de erro\r\n   * @param {string} id - ID da coluna\r\n   * @param {string} dayName - Nome do dia\r\n   * @param {Date} date - Data\r\n   * @returns {HTMLElement} Elemento da coluna vazia\r\n   */\r\n  createEmptyColumn(id, dayName, date) {\r\n    const column = this.createElement('div', {\r\n      id,\r\n      className: 'column column-empty'\r\n    });\r\n\r\n    const header = this.createColumnHeader(id, dayName, date);\r\n    column.appendChild(header);\r\n\r\n    const message = this.createElement('p', {\r\n      textContent: 'Escala nÃ£o disponÃ­vel para este dia',\r\n      className: 'empty-message'\r\n    });\r\n\r\n    column.appendChild(message);\r\n    return column;\r\n  }\r\n\r\n  /**\r\n   * Destaca o dia atual\r\n   * @param {import('../types/index.js').CycleCalculation} cycleData - Dados dos ciclos\r\n   */\r\n  highlightCurrentDay(cycleData) {\r\n    const today = new Date();\r\n    const todayWeekDay = today.getDay();\r\n\r\n    // Remove destaques anteriores\r\n    document.querySelectorAll('.column.current-day').forEach(col => {\r\n      col.classList.remove('current-day');\r\n    });\r\n\r\n    // Destaca o dia atual\r\n    // Segunda (1) ou TerÃ§a (2) - destaca a coluna de Segunda e TerÃ§a\r\n    if (todayWeekDay === 1 || todayWeekDay === 2) {\r\n      document.getElementById('monday_tuesday')?.classList.add('current-day');\r\n    }\r\n    // Quinta (4) ou Sexta (5) - destaca a coluna de Quinta e Sexta\r\n    else if (todayWeekDay === 4 || todayWeekDay === 5) {\r\n      document.getElementById('thursday_friday')?.classList.add('current-day');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Renderiza uma mensagem de erro\r\n   * @param {HTMLElement} container - Container para a mensagem\r\n   */\r\n  renderErrorMessage(container) {\r\n    this.clearElement(container);\r\n\r\n    const errorElement = this.createElement('div', {\r\n      className: 'error-message',\r\n      innerHTML: `\r\n        <h3>âŒ Erro ao carregar escala</h3>\r\n        <p>NÃ£o foi possÃ­vel carregar a escala de limpeza. Tente recarregar a pÃ¡gina.</p>\r\n        <button onclick=\"location.reload()\" class=\"reload-button\">\r\n          ğŸ”„ Recarregar pÃ¡gina\r\n        </button>\r\n      `\r\n    });\r\n\r\n    container.appendChild(errorElement);\r\n  }\r\n\r\n  /**\r\n   * Atualiza apenas o destaque do dia atual sem re-renderizar toda a escala\r\n   */\r\n  updateCurrentDayHighlight() {\r\n    // Busca os dados atuais do cache/estado se disponÃ­vel\r\n    // Por enquanto, apenas remove e nÃ£o re-adiciona atÃ© ter os dados corretos\r\n    document.querySelectorAll('.column.current-day').forEach(col => {\r\n      col.classList.remove('current-day');\r\n    });\r\n  }\r\n\r\n  /**\r\n   * UtilitÃ¡rio para criar elementos DOM\r\n   * @param {string} tagName - Nome da tag\r\n   * @param {Object} options - OpÃ§Ãµes do elemento\r\n   * @returns {HTMLElement} Elemento criado\r\n   */\r\n  createElement(tagName, options = {}) {\r\n    const element = document.createElement(tagName);\r\n\r\n    if (options.id) element.id = options.id;\r\n    if (options.className) element.className = options.className;\r\n    if (options.textContent) element.textContent = options.textContent;\r\n    if (options.innerHTML) element.innerHTML = options.innerHTML;\r\n\r\n    if (options.attributes) {\r\n      Object.entries(options.attributes).forEach(([key, value]) => {\r\n        element.setAttribute(key, value);\r\n      });\r\n    }\r\n\r\n    return element;\r\n  }\r\n\r\n  /**\r\n   * Limpa todos os filhos de um elemento\r\n   * @param {HTMLElement} element - Elemento a ser limpo\r\n   */\r\n  clearElement(element) {\r\n    if (element && element.children) {\r\n      while (element.firstChild) {\r\n        element.removeChild(element.firstChild);\r\n      }\r\n    }\r\n  }\r\n}\r\n","/**\r\n * @fileoverview Gerenciamento da escala da mÃ¡quina de lavar\r\n */\r\n\r\nimport { washingSchedule } from './data.js';\r\nimport { DOMUtils } from './domUtils.js';\r\n\r\n/**\r\n * Gerenciador da escala da mÃ¡quina de lavar\r\n */\r\nexport class WashingScheduleManager {\r\n  constructor(domCache) {\r\n    this.domCache = domCache;\r\n  }\r\n\r\n  /**\r\n   * Inicializa a escala da mÃ¡quina de lavar\r\n   */\r\n  init() {\r\n    this.renderWashingTable();\r\n    this.highlightCurrentWashingDay();\r\n    this.setupAutoUpdate();\r\n  }\r\n\r\n  /**\r\n   * Destaca o dia atual na tabela da mÃ¡quina de lavar\r\n   */\r\n  highlightCurrentWashingDay() {\r\n    const tableBody = this.domCache.get('washingTableBody');\r\n\r\n    if (!tableBody) {\r\n      console.warn('Tabela da mÃ¡quina de lavar nÃ£o encontrada');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Remove destaque anterior\r\n      const previousHighlighted = tableBody.querySelectorAll('tr.current-day');\r\n      previousHighlighted.forEach(row => {\r\n        DOMUtils.safeRemoveClass(row, 'current-day');\r\n      });\r\n\r\n      // ObtÃ©m o dia atual\r\n      const today = new Date();\r\n      const currentDayIndex = today.getDay();\r\n\r\n      // Encontra e destaca a linha correspondente ao dia atual\r\n      const rows = tableBody.querySelectorAll('tr');\r\n\r\n      if (rows[currentDayIndex]) {\r\n        DOMUtils.safeAddClass(rows[currentDayIndex], 'current-day');\r\n\r\n        // Adiciona atributo ARIA para acessibilidade\r\n        DOMUtils.safeSetAttribute(\r\n          rows[currentDayIndex],\r\n          'aria-current',\r\n          'date'\r\n        );\r\n\r\n        // Remove atributo ARIA das outras linhas\r\n        rows.forEach((row, index) => {\r\n          if (index !== currentDayIndex) {\r\n            row.removeAttribute('aria-current');\r\n          }\r\n        });\r\n\r\n        // Rola suavemente para a linha atual se ela estiver fora da visualizaÃ§Ã£o\r\n        this.scrollToCurrentDay(rows[currentDayIndex]);\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Erro ao destacar dia atual na mÃ¡quina de lavar:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Rola suavemente para o dia atual se necessÃ¡rio\r\n   * @param {HTMLElement} currentRow - Linha do dia atual\r\n   * @private\r\n   */\r\n  scrollToCurrentDay(currentRow) {\r\n    if (!currentRow) return;\r\n\r\n    try {\r\n      // Verifica se a linha estÃ¡ visÃ­vel na viewport\r\n      const rect = currentRow.getBoundingClientRect();\r\n      const isVisible = rect.top >= 0 &&\r\n        rect.bottom <= window.innerHeight;\r\n\r\n      if (!isVisible) {\r\n        currentRow.scrollIntoView({\r\n          behavior: 'smooth',\r\n          block: 'center'\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.warn('Erro ao rolar para o dia atual:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Configura atualizaÃ§Ã£o automÃ¡tica da escala\r\n   * @private\r\n   */\r\n  setupAutoUpdate() {\r\n    // Atualiza o destaque a cada minuto para capturar mudanÃ§as de dia\r\n    setInterval(() => {\r\n      this.highlightCurrentWashingDay();\r\n    }, 60000); // 1 minuto\r\n\r\n    // Atualiza quando a pÃ¡gina volta ao foco (usuÃ¡rio retorna Ã  aba)\r\n    DOMUtils.safeAddEventListener(document, 'visibilitychange', () => {\r\n      if (!document.hidden) {\r\n        this.highlightCurrentWashingDay();\r\n      }\r\n    });\r\n\r\n    // Atualiza quando a janela recebe foco\r\n    DOMUtils.safeAddEventListener(window, 'focus', () => {\r\n      this.highlightCurrentWashingDay();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * ObtÃ©m informaÃ§Ãµes sobre quem usa a mÃ¡quina hoje\r\n   * @returns {Object|null} InformaÃ§Ãµes do dia atual ou null se nÃ£o encontrado\r\n   */\r\n  getTodayWashingInfo() {\r\n    const today = new Date();\r\n    const currentDayIndex = today.getDay();\r\n\r\n    return washingSchedule.find(day => day.dayIndex === currentDayIndex) || null;\r\n  }\r\n\r\n  /**\r\n   * ObtÃ©m informaÃ§Ãµes sobre quem usa a mÃ¡quina em um dia especÃ­fico\r\n   * @param {number} dayIndex - Ãndice do dia (0 = domingo)\r\n   * @returns {Object|null} InformaÃ§Ãµes do dia ou null se nÃ£o encontrado\r\n   */\r\n  getWashingInfoForDay(dayIndex) {\r\n    if (dayIndex < 0 || dayIndex > 6) {\r\n      console.warn('Ãndice de dia invÃ¡lido. Use 0-6 (domingo-sÃ¡bado)');\r\n      return null;\r\n    }\r\n\r\n    return washingSchedule.find(day => day.dayIndex === dayIndex) || null;\r\n  }\r\n\r\n  /**\r\n   * ObtÃ©m a escala completa da semana\r\n   * @returns {Array} Array com todos os dias da semana\r\n   */\r\n  getFullWeekSchedule() {\r\n    return [...washingSchedule];\r\n  }\r\n\r\n  /**\r\n   * Verifica se um usuÃ¡rio especÃ­fico usa a mÃ¡quina hoje\r\n   * @param {string} userName - Nome do usuÃ¡rio\r\n   * @returns {boolean} True se o usuÃ¡rio usa a mÃ¡quina hoje\r\n   */\r\n  isUserScheduledToday(userName) {\r\n    const todayInfo = this.getTodayWashingInfo();\r\n\r\n    if (!todayInfo) return false;\r\n\r\n    return todayInfo.users.toLowerCase().includes(userName.toLowerCase());\r\n  }\r\n\r\n  /**\r\n   * Encontra em quais dias um usuÃ¡rio especÃ­fico usa a mÃ¡quina\r\n   * @param {string} userName - Nome do usuÃ¡rio\r\n   * @returns {Array} Array com os dias em que o usuÃ¡rio usa a mÃ¡quina\r\n   */\r\n  findUserDays(userName) {\r\n    return washingSchedule.filter(day =>\r\n      day.users.toLowerCase().includes(userName.toLowerCase())\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Renderiza a tabela da mÃ¡quina de lavar (caso precise ser recriada)\r\n   */\r\n  renderWashingTable() {\r\n    const tableBody = this.domCache.get('washingTableBody');\r\n\r\n    if (!tableBody) {\r\n      console.error('Container da tabela da mÃ¡quina de lavar nÃ£o encontrado');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Limpa a tabela\r\n      DOMUtils.clearElement(tableBody);\r\n\r\n      // Cria as linhas da tabela\r\n      washingSchedule.forEach((dayInfo, index) => {\r\n        const row = this.createWashingTableRow(dayInfo, index);\r\n        tableBody.appendChild(row);\r\n      });\r\n\r\n      // Destaca o dia atual\r\n      this.highlightCurrentWashingDay();\r\n\r\n    } catch (error) {\r\n      console.error('Erro ao renderizar tabela da mÃ¡quina de lavar:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Cria uma linha da tabela da mÃ¡quina de lavar\r\n   * @param {Object} dayInfo - InformaÃ§Ãµes do dia\r\n   * @param {number} index - Ãndice da linha\r\n   * @returns {HTMLElement} Elemento da linha\r\n   * @private\r\n   */\r\n  createWashingTableRow(dayInfo, index) {\r\n    const row = DOMUtils.createElement('tr', {\r\n      attributes: {\r\n        'data-day-index': dayInfo.dayIndex.toString()\r\n      }\r\n    });\r\n\r\n    const dayCell = DOMUtils.createElement('td', {\r\n      textContent: dayInfo.day\r\n    });\r\n\r\n    const usersCell = DOMUtils.createElement('td', {\r\n      textContent: dayInfo.users\r\n    });\r\n\r\n    row.appendChild(dayCell);\r\n    row.appendChild(usersCell);\r\n\r\n    return row;\r\n  }\r\n\r\n  /**\r\n   * ForÃ§a atualizaÃ§Ã£o do destaque do dia atual\r\n   */\r\n  forceUpdate() {\r\n    this.highlightCurrentWashingDay();\r\n  }\r\n\r\n  /**\r\n   * Limpa recursos e para timers\r\n   */\r\n  destroy() {\r\n    if (this.updateInterval) {\r\n      clearInterval(this.updateInterval);\r\n      this.updateInterval = null;\r\n    }\r\n  }\r\n}\r\n","/**\r\n * @fileoverview AplicaÃ§Ã£o principal do sistema de escalas da RepÃºblica Tabajara\r\n */\r\n\r\nimport { scheduleData, appConfig } from './modules/data.js';\r\nimport { calculateWeekCycles } from './modules/dateUtils.js';\r\nimport { DOMCache, DOMUtils } from './modules/domUtils.js';\r\nimport { ThemeManager } from './modules/themeManager.js';\r\nimport { ScheduleRenderer } from './modules/scheduleRenderer.js';\r\nimport { WashingScheduleManager } from './modules/washingScheduleManager.js';\r\n\r\n/**\r\n * Classe principal da aplicaÃ§Ã£o\r\n */\r\nclass EscalasTabajaraApp {\r\n  constructor() {\r\n    this.domCache = null;\r\n    this.themeManager = null;\r\n    this.scheduleRenderer = null;\r\n    this.washingManager = null;\r\n    this.isInitialized = false;\r\n    this.initTime = Date.now();\r\n    this.errorCount = 0;\r\n    this.lastUpdate = null;\r\n    this.lastError = null;\r\n  }\r\n\r\n  /**\r\n   * Inicializa a aplicaÃ§Ã£o\r\n   */\r\n  async init() {\r\n    try {\r\n      console.log('ğŸ§¹ Inicializando Sistema de Escalas da RepÃºblica Tabajara...');\r\n\r\n      // Inicializa o cache DOM\r\n      this.domCache = new DOMCache();\r\n\r\n      // Valida elementos essenciais\r\n      if (!this.domCache.validateEssentialElements()) {\r\n        throw new Error('Elementos essenciais do DOM nÃ£o encontrados');\r\n      }\r\n\r\n      // Inicializa os mÃ³dulos\r\n      this.themeManager = new ThemeManager(this.domCache);\r\n      this.scheduleRenderer = new ScheduleRenderer(this.domCache);\r\n      this.washingManager = new WashingScheduleManager(this.domCache);\r\n\r\n      // Configura eventos globais\r\n      this.setupGlobalEventListeners();\r\n\r\n      // Renderiza a escala inicial\r\n      await this.renderCleaningSchedule();\r\n\r\n      // Inicializa a escala da mÃ¡quina de lavar\r\n      this.washingManager.init();\r\n\r\n      // Atualiza o ano no rodapÃ©\r\n      this.updateFooterYear();\r\n\r\n      this.isInitialized = true;\r\n      console.log('âœ… Sistema inicializado com sucesso!');\r\n\r\n    } catch (error) {\r\n      console.error('âŒ Erro ao inicializar aplicaÃ§Ã£o:', error);\r\n      this.handleInitializationError(error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Renderiza a escala de limpeza\r\n   */\r\n  async renderCleaningSchedule() {\r\n    try {\r\n      const today = new Date();\r\n      const cycleData = calculateWeekCycles(today, appConfig.referenceDate, scheduleData);\r\n\r\n      if (this.scheduleRenderer) {\r\n        this.scheduleRenderer.renderSchedule(cycleData, scheduleData);\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Erro ao renderizar escala de limpeza:', error);\r\n      this.handleScheduleError(error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Configura listeners de eventos globais\r\n   */\r\n  setupGlobalEventListeners() {\r\n    // Listener para mudanÃ§as de visibilidade da pÃ¡gina\r\n    document.addEventListener('visibilitychange', () => {\r\n      if (!document.hidden && this.isInitialized) {\r\n        this.handleVisibilityChange();\r\n      }\r\n    });\r\n\r\n    // Listener para erros nÃ£o capturados\r\n    window.addEventListener('error', (event) => {\r\n      this.handleGlobalError(event.error);\r\n    });\r\n\r\n    // Listener para promises rejeitadas\r\n    window.addEventListener('unhandledrejection', (event) => {\r\n      this.handleGlobalError(event.reason);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Atualiza o ano no rodapÃ©\r\n   */\r\n  updateFooterYear() {\r\n    const footerYear = this.domCache?.get('footerYear');\r\n    if (footerYear) {\r\n      footerYear.textContent = new Date().getFullYear().toString();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Manipula mudanÃ§as de visibilidade da pÃ¡gina\r\n   */\r\n  handleVisibilityChange() {\r\n    // Quando a pÃ¡gina volta a ficar visÃ­vel, atualiza os dados\r\n    setTimeout(() => {\r\n      this.renderCleaningSchedule();\r\n      if (this.washingManager) {\r\n        this.washingManager.highlightCurrentWashingDay();\r\n      }\r\n    }, 100);\r\n  }\r\n\r\n  /**\r\n   * Manipula erros de inicializaÃ§Ã£o\r\n   * @param {Error} error - Erro ocorrido\r\n   */\r\n  handleInitializationError(error) {\r\n    const container = document.getElementById('cleaningSchedule');\r\n    if (container) {\r\n      container.innerHTML = `\r\n        <div class=\"error-message\">\r\n          <h3>âŒ Erro de InicializaÃ§Ã£o</h3>\r\n          <p>NÃ£o foi possÃ­vel inicializar o sistema de escalas.</p>\r\n          <p>Erro: ${error.message}</p>\r\n          <button onclick=\"location.reload()\" class=\"reload-button\">\r\n            ğŸ”„ Recarregar pÃ¡gina\r\n          </button>\r\n        </div>\r\n      `;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Manipula erros na renderizaÃ§Ã£o da escala\r\n   * @param {Error} error - Erro ocorrido\r\n   */\r\n  handleScheduleError(error) {\r\n    console.error('Erro na escala:', error);\r\n\r\n    const container = this.domCache?.get('scheduleContainer');\r\n    if (container) {\r\n      container.innerHTML = `\r\n        <div class=\"error-message\">\r\n          <h3>âŒ Erro na Escala</h3>\r\n          <p>NÃ£o foi possÃ­vel carregar a escala de limpeza.</p>\r\n          <button onclick=\"location.reload()\" class=\"reload-button\">\r\n            ğŸ”„ Tentar novamente\r\n          </button>\r\n        </div>\r\n      `;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Manipula erros globais nÃ£o capturados\r\n   * @param {unknown} error - Erro ocorrido\r\n   */\r\n  handleGlobalError(error) {\r\n    console.error('Erro global capturado:', error);\r\n    this.errorCount++;\r\n\r\n    // Evita spam de logs para o mesmo erro\r\n    const errorMessage = error instanceof Error ? error.message : String(error);\r\n    if (this.lastError && this.lastError === errorMessage) {\r\n      return;\r\n    }\r\n\r\n    this.lastError = errorMessage;\r\n  }\r\n\r\n  /**\r\n   * ObtÃ©m estatÃ­sticas da aplicaÃ§Ã£o\r\n   * @returns {Object} EstatÃ­sticas de uso\r\n   */\r\n  getAppStats() {\r\n    return {\r\n      isInitialized: this.isInitialized,\r\n      uptime: this.isInitialized ? Date.now() - this.initTime : 0,\r\n      theme: this.themeManager?.getCurrentTheme() || 'unknown',\r\n      errors: this.errorCount || 0,\r\n      lastUpdate: this.lastUpdate || null\r\n    };\r\n  }\r\n\r\n  /**\r\n   * ForÃ§a atualizaÃ§Ã£o de todos os componentes\r\n   */\r\n  forceUpdate() {\r\n    if (!this.isInitialized) {\r\n      console.warn('AplicaÃ§Ã£o nÃ£o estÃ¡ inicializada');\r\n      return;\r\n    }\r\n\r\n    console.log('ğŸ”„ ForÃ§ando atualizaÃ§Ã£o...');\r\n\r\n    this.renderCleaningSchedule();\r\n    if (this.washingManager) {\r\n      this.washingManager.highlightCurrentWashingDay();\r\n    }\r\n    this.updateFooterYear();\r\n\r\n    this.lastUpdate = new Date();\r\n    console.log('âœ… AtualizaÃ§Ã£o concluÃ­da');\r\n  }\r\n\r\n  /**\r\n   * Limpa recursos e para timers\r\n   */\r\n  destroy() {\r\n    this.isInitialized = false;\r\n    console.log('ğŸ§¹ AplicaÃ§Ã£o destruÃ­da');\r\n  }\r\n}\r\n\r\n// InstÃ¢ncia global da aplicaÃ§Ã£o\r\nlet app = null;\r\n\r\n/**\r\n * Inicializa a aplicaÃ§Ã£o quando o DOM estiver pronto\r\n */\r\nconst initializeApp = async () => {\r\n  try {\r\n    app = new EscalasTabajaraApp();\r\n    await app.init();\r\n\r\n    // ExpÃµe a instÃ¢ncia globalmente para debugging\r\n    if (typeof window !== 'undefined') {\r\n      window.EscalasApp = app;\r\n    }\r\n\r\n  } catch (error) {\r\n    console.error('Falha crÃ­tica na inicializaÃ§Ã£o:', error);\r\n  }\r\n};\r\n\r\n/**\r\n * InicializaÃ§Ã£o baseada no estado do documento\r\n */\r\nif (document.readyState === 'loading') {\r\n  document.addEventListener('DOMContentLoaded', initializeApp);\r\n} else {\r\n  // DOM jÃ¡ estÃ¡ carregado\r\n  initializeApp();\r\n}\r\n\r\n// Exporta a funÃ§Ã£o de inicializaÃ§Ã£o para uso em testes\r\nexport { initializeApp, EscalasTabajaraApp };\r\n"],"names":["mondayTuesdayMembers","thursdayFridayMembers","rooms","label","key","icon","washingSchedule","day","users","dayIndex","appConfig","referenceDate","Date","themeStorageKey","darkModeClass","themeConfig","generateScheduleRotations","members","numMembers","length","numRooms","rotations","rotation","schedule","forEach","room","roomIndex","memberIndex","lavabo","sala","push","scheduleData","monday_tuesday","thursday_friday","window","location","hostname","console","info","join","formatDate","date","isNaN","getTime","Error","toLocaleDateString","month","calculateWeekCycles","currentDate","referenceDate2","getDay","setDate","getDate","monday_tuesdayDate","currentDay","diffTomonday_tuesday","setHours","getmonday_tuesdayDate","weekDiff","Math","max","date1","date2","getmonday_tuesday","d","diff","monday_tuesday1","monday_tuesday2","floor","getWeekDifference","monday_tuesdayCycleIndex","thursday_fridayCycleIndex","thursday_fridayDate","DOMCache","constructor","this","cache","Map","initializeCache","selectors","scheduleContainer","washingTableBody","themeToggle","themeIcon","footerYear","selector","Object","entries","set","document","querySelector","get","element","validateEssentialElements","every","refresh","clear","DOMUtils","createElement","tag","options","classes","classList","add","attributes","value","setAttribute","textContent","innerHTML","clearElement","firstChild","removeChild","safeAddClass","className","safeRemoveClass","remove","hasClass","contains","safeSetAttribute","attribute","safeSetText","text","safeAddEventListener","event","handler","addEventListener","ThemeManager","domCache","isDarkMode","mediaQuery","matchMedia","init","loadSavedTheme","setupEventListeners","setupMediaQueryListener","applyTheme","savedTheme","localStorage","getItem","matches","error","warn","toggleTheme","preventDefault","e","saveTheme","isDark","body","dispatchThemeChangeEvent","setItem","CustomEvent","detail","dispatchEvent","getCurrentTheme","setTheme","theme","resetTheme","removeItem","destroy","log","ScheduleRenderer","renderSchedule","cycleData","container","monday_tuesdayColumn","createScheduleColumn","thursday_fridayColumn","appendChild","highlightCurrentDay","renderErrorMessage","id","dayName","cleaningDate","createEmptyColumn","column","role","header","createColumnHeader","roomsList","roomElement","createRoomElement","title","dateSpan","responsible","roomInfo","roomName","responsibleSpan","message","todayWeekDay","querySelectorAll","col","getElementById","errorElement","updateCurrentDayHighlight","tagName","children","WashingScheduleManager","renderWashingTable","highlightCurrentWashingDay","setupAutoUpdate","tableBody","row","currentDayIndex","rows","index","removeAttribute","scrollToCurrentDay","currentRow","rect","getBoundingClientRect","top","bottom","innerHeight","scrollIntoView","behavior","block","setInterval","hidden","getTodayWashingInfo","find","getWashingInfoForDay","getFullWeekSchedule","isUserScheduledToday","userName","todayInfo","toLowerCase","includes","findUserDays","filter","dayInfo","createWashingTableRow","toString","dayCell","usersCell","forceUpdate","updateInterval","clearInterval","EscalasTabajaraApp","themeManager","scheduleRenderer","washingManager","isInitialized","initTime","now","errorCount","lastUpdate","lastError","setupGlobalEventListeners","renderCleaningSchedule","updateFooterYear","handleInitializationError","handleScheduleError","handleVisibilityChange","handleGlobalError","reason","getFullYear","setTimeout","errorMessage","String","getAppStats","uptime","errors","app","initializeApp","async","EscalasApp","readyState"],"mappings":"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"}